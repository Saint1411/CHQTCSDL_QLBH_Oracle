@model IEnumerable<CHQTCSDL_QLBH.Models.VIEW_DS_KHACHHANG>

@{
    ViewBag.Title = "Danh sách khách hàng";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Danh Sách Khách Hàng</h2>

<a href="~/KhachHang/ThemKhachHang" class="btn btn-info" style="margin-bottom: 12px">
    <i class="far fa-user"></i> Thêm
</a>
<p style="float:right; color:red">
    <span style="color:black"><i class="fas fa-money-check-alt" style="color: #53cc1e;"></i></span> @ViewBag.TongDoanhSo.ToString("#,##0") ₫
</p>
<p>
    Số khách hàng: <span style="color:royalblue">@ViewBag.SoKhachHang</span>  <i class="fas fa-user-circle"></i>
</p>
<table class="table table-hover">
    <tr>
        <th>
            Mã KH
        </th>
        <th>
            Họ tên
        </th>
        <th>
            Địa chỉ
        </th>
        <th>
            Số đơn hàng
        </th>
        <th>
            Doanh số
        </th>
        <th>
            Điểm tích lũy
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.MAKH)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.HOTEN)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.DIACHI)
            </td>
            <td>
                @{
                    int soHD = (int)item.SOHDSOHUU;
                }
                @soHD
            </td>
            <td>
                @{
                    string tongTG = item.DOANHSO?.ToString("#,##0") ?? "0";
                }
                @tongTG ₫
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.DIEMTICHLUY)
            </td>
            <td>
                <a href="@Url.Action("CapNhatKhachHang", new { MAKH = item.MAKH })" class="btn btn-primary"><i class="glyphicon glyphicon-edit"></i></a>
                <a href="@Url.Action("ChiTietKhachHang", new { MAKH = item.MAKH })" class="btn btn-success"><i class='fas fa-book-open'></i></a>
            </td>
        </tr>
    }

</table>
